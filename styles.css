*{box-sizing:border-box;font-family:'Miracle', cursive, Inter, 'Segoe UI', system-ui, -apple-system, Roboto, Arial;margin:0;padding:0}
:root{--pink:#ff7aa2;--soft:#fff0f6;--card:#fff}
body{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffeef8 0%,#fff9fb 100%)}
.card{width:min(720px,95vw);background:var(--card);padding:32px;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center}
.top .doll{font-size:72px;transform:translateY(-8px)}
h1{font-size:2rem;color:#3b2243;margin:8px 0}
.subtitle{color:#8b6886;margin-bottom:18px}

/* scenes */
.scene{min-height:320px;display:flex;flex-direction:column;align-items:center;justify-content:center}
.center{margin:8px 0}
.doll{font-size:96px}
.doll-img{width:140px;height:140px;object-fit:contain;border-radius:16px}

.gift{cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:10px}
.giftbox-img{width:140px;height:140px;object-fit:contain;transition:transform .3s ease;border-radius:16px}
.giftbox-img:hover{transform:scale(1.08) rotate(2deg)}
.tap{color:#8b6886;font-weight:600}

.choices{position:relative;height:140px;display:flex;align-items:center;justify-content:center;gap:24px}
.choices button{padding:12px 26px;border-radius:999px;border:0;font-size:1rem;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.08);transition:transform .15s ease,opacity .2s}
.yes{background:linear-gradient(135deg,var(--pink),#ff5c97);color:white}
.no{position:absolute;left:60%;top:50%;transform:translate(-50%,-50%);background:#fff;background:linear-gradient(180deg,#fff,#fff9);border:1px solid #f1d6e1;color:#b12653;padding:10px 20px}
.choices{position:relative;height:140px;display:flex;align-items:center;justify-content:center;gap:24px}
.choices button{padding:12px 26px;border-radius:999px;border:0;font-size:1rem;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.08);transition:transform .15s ease,opacity .2s}
.yes{background:linear-gradient(135deg,var(--pink),#ff5c97);color:white}

.message{margin-top:14px;color:#b12653;font-weight:600}
.accepted{margin-top:18px;color:var(--pink)}
.hint{margin-top:18px;color:#9b7a90;font-size:.9rem}

.blocked-doll{font-size:96px;opacity:.95}
.blocked-actions .back{margin-top:14px;padding:10px 18px;border-radius:12px;border:0;background:#ffdfe8;color:#94264c}

/* gift choice */
.gift-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:14px;margin:20px auto;max-width:340px}
.gift-item{font-size:56px;cursor:pointer;transition:transform .2s;padding:12px;border-radius:12px;background:#fff0f6}
.gift-item-img{width:80px;height:80px;object-fit:cover;cursor:pointer;transition:transform .2s;border-radius:12px;background:#fff0f6;padding:8px}
.gift-item-img:hover{transform:scale(1.1)}

/* why scene */
.why-scene{padding:20px}
.why-container{margin:20px 0}
.why-input{width:100%;max-width:400px;padding:12px 16px;border:2px solid #ff7aa2;border-radius:8px;font-size:1rem;font-family:inherit;outline:none}
.why-input:focus{border-color:#ff5c97;box-shadow:0 0 10px rgba(255,122,162,0.3)}
.why-button{padding:12px 28px;margin-top:12px;background:linear-gradient(135deg,var(--pink),#ff5c97);color:white;border:0;border-radius:8px;cursor:pointer;font-weight:600;transition:transform 0.2s}
.why-button:hover{transform:scale(1.05)}
.reasons-list{margin-top:20px;padding:16px;background:#fff0f6;border-radius:12px}
.reasons-list h3{color:#7a2b4a;margin-bottom:12px}
.reason-item{padding:8px 12px;background:white;margin:8px 0;border-radius:6px;color:#6a4f63;border-left:4px solid #ff7aa2}

/* photo gallery */
.photo-gallery{background-image:linear-gradient(rgba(255,255,255,0.4),rgba(255,255,255,0.4)),url('gallery.jpg');background-size:cover;background-position:center}
.gallery-container{display:flex;flex-direction:column;gap:20px;padding:20px;max-width:100%}
.gallery-item,.gallery-video{width:120px;height:120px;border-radius:12px;object-fit:cover;transform:rotate(45deg);box-shadow:0 8px 20px rgba(0,0,0,0.15);cursor:pointer;transition:transform .3s}
.gallery-item:nth-child(odd){margin-left:0}
.gallery-item:nth-child(even){margin-left:auto;margin-right:0}
.gallery-video:nth-child(odd){margin-left:0}
.gallery-video:nth-child(even){margin-left:auto;margin-right:0}
.gallery-item:hover,.gallery-video:hover{transform:rotate(45deg) scale(1.08)}
.back-btn{margin-top:12px;padding:8px 16px;border-radius:8px;border:0;background:#ffdfe8;color:#94264c;cursor:pointer}

/* lightbox */
.lightbox{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:1000}
.lightbox-content{position:relative;max-width:90%;max-height:90%;display:flex;align-items:center;justify-content:center}
.lightbox-image{max-width:100%;max-height:100%;border-radius:12px;object-fit:contain}
.lightbox-video{max-width:100%;max-height:100%;border-radius:12px}
.lightbox-close{position:absolute;top:-40px;right:0;font-size:40px;color:#fff;cursor:pointer;font-weight:bold}

/* small screens */
@media (max-width:420px){.top .doll{font-size:56px} .card{padding:20px}}

/* playful wiggle when No is blocked */
@keyframes wiggle{0%{transform:translate(-50%,-50%) rotate(0)}25%{transform:translate(-50%,-50%) rotate(-8deg)}50%{transform:translate(-50%,-50%) rotate(8deg)}75%{transform:translate(-50%,-50%) rotate(-6deg)}100%{transform:translate(-50%,-50%) rotate(0)}}
/* Removed .no styles and locked animation rule */
/* .no{...} */
/* .no.locked{...} */

/* confetti-like sparkle on accepted */
.result h2{font-size:1.6rem;margin-bottom:6px}
