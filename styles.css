*{box-sizing:border-box;font-family:Inter, 'Segoe UI', system-ui, -apple-system, Roboto, Arial;margin:0;padding:0}
:root{--pink:#ff7aa2;--soft:#fff0f6;--card:#fff}
body{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffeef8 0%,#fff9fb 100%)}
.card{width:min(720px,95vw);background:var(--card);padding:32px;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center}
.top .doll{font-size:72px;transform:translateY(-8px)}
h1{font-size:2rem;color:#3b2243;margin:8px 0}
.subtitle{color:#8b6886;margin-bottom:18px}

/* scenes */
.scene{min-height:320px;display:flex;flex-direction:column;align-items:center;justify-content:center}
.center{margin:8px 0}
.doll{font-size:96px}
.doll-img{width:140px;height:140px;object-fit:contain;border-radius:16px}

.gift{cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:10px}
.giftbox-img{width:140px;height:140px;object-fit:contain;transition:transform .3s ease;border-radius:16px}
.giftbox-img:hover{transform:scale(1.08) rotate(2deg)}
.tap{color:#8b6886;font-weight:600}

.choices{position:relative;height:140px;display:flex;align-items:center;justify-content:center;gap:24px}
.choices button{padding:12px 26px;border-radius:999px;border:0;font-size:1rem;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.08);transition:transform .15s ease,opacity .2s}
.yes{background:linear-gradient(135deg,var(--pink),#ff5c97);color:white}
.no{position:absolute;left:60%;top:50%;transform:translate(-50%,-50%);background:#fff;background:linear-gradient(180deg,#fff,#fff9);border:1px solid #f1d6e1;color:#b12653;padding:10px 20px}
.choices{position:relative;height:140px;display:flex;align-items:center;justify-content:center;gap:24px}
.choices button{padding:12px 26px;border-radius:999px;border:0;font-size:1rem;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.08);transition:transform .15s ease,opacity .2s}
.yes{background:linear-gradient(135deg,var(--pink),#ff5c97);color:white}

.message{margin-top:14px;color:#b12653;font-weight:600}
.accepted{margin-top:18px;color:var(--pink)}
.hint{margin-top:18px;color:#9b7a90;font-size:.9rem}

.blocked-doll{font-size:96px;opacity:.95}
.blocked-actions .back{margin-top:14px;padding:10px 18px;border-radius:12px;border:0;background:#ffdfe8;color:#94264c}

/* gift choice */
.gift-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:14px;margin:20px auto;max-width:340px}
.gift-item{font-size:56px;cursor:pointer;transition:transform .2s;padding:12px;border-radius:12px;background:#fff0f6}
.gift-item-img{width:80px;height:80px;object-fit:cover;cursor:pointer;transition:transform .2s;border-radius:12px;background:#fff0f6;padding:8px}
.gift-item-img:hover{transform:scale(1.1)}

/* photo gallery */
.photo-gallery{background-image:linear-gradient(rgba(255,255,255,0.4),rgba(255,255,255,0.4)),url('gallery.jpg');background-size:cover;background-position:center}
.gallery-container{display:flex;flex-direction:column;gap:20px;padding:20px;max-width:100%}
.gallery-item,.gallery-video{width:180px;height:180px;border-radius:12px;object-fit:cover;transform:rotate(45deg);box-shadow:0 8px 20px rgba(0,0,0,0.15);cursor:pointer;transition:transform .3s}
.gallery-item:nth-child(odd){margin-left:0}
.gallery-item:nth-child(even){margin-left:auto;margin-right:0}
.gallery-video:nth-child(odd){margin-left:0}
.gallery-video:nth-child(even){margin-left:auto;margin-right:0}
.gallery-item:hover,.gallery-video:hover{transform:rotate(45deg) scale(1.08)}
.back-btn{margin-top:12px;padding:8px 16px;border-radius:8px;border:0;background:#ffdfe8;color:#94264c;cursor:pointer}

/* vouchers / tickets */
.voucher-grid{display:flex;flex-direction:column;gap:14px;width:100%;max-width:720px;margin:12px auto}
.ticket{display:flex;align-items:center;background:#fffdfb;border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(0,0,0,0.06);}
.ticket-left{padding:18px 20px;flex:1;text-align:left}
.ticket-left h3{margin:0;color:#7a2b4a;font-size:1.05rem}
.ticket-left p{margin:6px 0 0;color:#6a4f63;font-size:.95rem}
.ticket-sep{width:2px;background:repeating-linear-gradient(180deg,#f3e7ea 0 6px,#fff 6px 12px);height:72px}
.ticket-right{padding:12px 18px;background:linear-gradient(180deg,#ffdfe8,#ffccde);color:#7a2b4a;font-weight:700}

@media (max-width:640px){
	.ticket{flex-direction:column;align-items:stretch}
	.ticket-sep{width:100%;height:2px}
	.ticket-right{align-self:flex-end}
}

/* redeemed look */
.ticket-right.redeemed{background:#e6e6e6;color:#9b9b9b;cursor:default}
.ticket-right.redeemed:after{content:'âœ“';display:block;font-weight:900;margin-top:4px}

/* redeem modal + simple confetti */
.redeem-modal{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:1200}
.redeem-inner{background:#fff;padding:24px;border-radius:12px;max-width:420px;text-align:center;position:relative;box-shadow:0 20px 40px rgba(0,0,0,0.25)}
.redeem-inner h3{margin:0 0 8px;color:#7a2b4a}
.redeem-inner p{margin:0 0 18px;color:#6a4f63}
.confetti{position:absolute;top:-18px;left:50%;width:12px;height:12px}
.redeem-inner::before{content:'';position:absolute;inset:-8px;border-radius:16px;background:radial-gradient(circle at 20% 20%, rgba(255,122,162,0.12), transparent 10%), radial-gradient(circle at 80% 80%, rgba(255,92,151,0.09), transparent 10%);z-index:-1}

/* quick animated hearts as confetti */
.redeem-inner:after{content:'ðŸ’–';position:absolute;top:-48px;right:16px;font-size:32px;opacity:0;animation:pop 1s ease-in-out}
@keyframes pop{0%{transform:translateY(0) scale(.6);opacity:0}50%{opacity:1;transform:translateY(-10px) scale(1.1)}100%{transform:translateY(-28px) scale(.9);opacity:0}}

/* love letter */
.love-letter{background:linear-gradient(135deg,#fff9e6 0%,#ffe4f0 100%)}
.letter-content{width:100%;max-width:900px;margin:0 auto}

/* torn paper layout similar to the reference image */
.letter-wrap{display:flex;gap:20px;align-items:flex-start;justify-content:center;flex-wrap:wrap;padding:18px}
.torn{background:#fffefb;padding:20px;box-shadow:0 12px 30px rgba(0,0,0,0.09);position:relative;border-radius:6px;max-width:420px}
.torn.left{transform:rotate(-3deg)}
.torn.right{transform:rotate(3deg)}
.torn:before,.torn:after{content:'';position:absolute;left:0;right:0;height:12px;background-image:repeating-linear-gradient(90deg,#ffffff 0 6px,#f2f0ee 6px 12px);}
.torn:before{top:-10px;border-top-left-radius:6px;border-top-right-radius:6px}
.torn:after{bottom:-10px;border-bottom-left-radius:6px;border-bottom-right-radius:6px}
.torn-inner{font-family:'Georgia',serif;color:#4a4a4a;line-height:1.7;padding:6px}
.t-text{font-size:1rem;text-align:left;margin:0}
.small-note{margin-top:18px;background:#fff;border-radius:10px;padding:12px 14px;display:inline-block;transform:rotate(-6deg);box-shadow:0 8px 18px rgba(0,0,0,0.08);color:#7a2b4a}

@media (max-width:680px){
	.letter-wrap{flex-direction:column;align-items:center}
	.torn{transform:none;width:90%}
	.torn.left,.torn.right{transform:none}
}

.lightbox{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:1000}
.lightbox-content{position:relative;max-width:90%;max-height:90%;display:flex;align-items:center;justify-content:center}
.lightbox-image{max-width:100%;max-height:100%;border-radius:12px;object-fit:contain}
.lightbox-video{max-width:100%;max-height:100%;border-radius:12px}
.lightbox-close{position:absolute;top:-40px;right:0;font-size:40px;color:#fff;cursor:pointer;font-weight:bold}

/* small screens */
@media (max-width:420px){.top .doll{font-size:56px} .card{padding:20px}}

/* playful wiggle when No is blocked */
@keyframes wiggle{0%{transform:translate(-50%,-50%) rotate(0)}25%{transform:translate(-50%,-50%) rotate(-8deg)}50%{transform:translate(-50%,-50%) rotate(8deg)}75%{transform:translate(-50%,-50%) rotate(-6deg)}100%{transform:translate(-50%,-50%) rotate(0)}}
/* Removed .no styles and locked animation rule */
/* .no{...} */
/* .no.locked{...} */

/* confetti-like sparkle on accepted */
.result h2{font-size:1.6rem;margin-bottom:6px}
